# homework3
谢万皓 2223315786 15867115610


# 高斯模糊与卷积实现代码结构


## 1. 高斯核生成模块 (`gaosi_kernel.py`)



* ** (`gaosi_kernel` 函数)**:
    * **网格生成**: 使用 `np.mgrid` 生成以中心为原点的坐标网格 $(x, y)$。
    * **高斯公式**: 应用二维高斯公式计算权重：
      $$G(x, y) = \frac{1}{2\pi\sigma^2} e^{-\frac{x^2+y^2}{2\sigma^2}}$$
    * **归一化**: 执行 `kernel /= kernel.sum()` 确保核内元素之和为 1，保证图像亮度不变。
* **正确性验证**:
    * **可视化**: 使用 `plt.imshow` 展示不同尺寸 ($3\times3, 5\times5, 7\times7$) 和 $\sigma$ 的核形态。
    * **对比 OpenCV**: 将手动生成的核与 `cv2.getGaussianKernel` 的结果进行差值比对，验证算法精度。

## 2. 二维卷积实现模块 (`conv2d_gaussian.py`)

该脚本实现了图像处理中最核心的“滑动窗口”操作 。

* **卷积逻辑 (`conv2d` 函数)**:
    * **输入**: 原始灰度图像和生成的卷积核。
    * **边界填充**: 默认使用 **Reflect Padding** (镜像填充)，使用 `np.pad` 处理图像边缘，防止卷积后尺寸缩小或产生黑边。
    * **滑动窗口**: 使用双重 `for` 循环遍历图像的每一个像素 $(i, j)$。
    * **局部运算**: 提取当前窗口区域 (`region`) 与卷积核 (`kernel`) 进行逐元素相乘并求和 (`np.sum`)。
* **应用流程**:
    * 定义了三组不同的核参数 `(size, sigma)`，依次对同一张图像进行处理并并排展示结果，直观对比模糊程度。

## 3. 边界填充对比模块 (`padding_compare.py`)

该脚本是一个对照实验，用于研究卷积操作中边缘处理的重要性 。

* **增强型卷积函数**:
    * 相比前一个脚本，这里的 `conv2d` 增加了一个参数 `padding_type`。
    * **逻辑分支**:
        * `if padding_type == "zero"`: 使用常数 0 填充 (`mode='constant'`)，通常会导致边缘变黑。
        * `elif padding_type == "reflect"`: 使用镜像填充 (`mode='reflect'`)，保持边缘纹理自然。
* **实验设计**:
    * **控制变量**：使用相同的高斯核 ($5\times5, \sigma=1$)。
    * **变量**：分别使用 Zero 和 Reflect 方式处理。
    * **结果**：直观展示 Zero Padding 在图像边缘产生的“暗环”效应。
